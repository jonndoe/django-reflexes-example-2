{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}
  <h2>Sign up for newsletter!</h2>
  <form id="morph-form" data-reflex-root="#morph">
      {{ form|crispy }}
      <input type="submit" data-reflex="click->Signup_Reflex#add_person" class="btn btn-primary">
      <div id="morph">
          <h2>Signed:</h2>
          <table>
              <thead>
              <tr>
                  <th scope="col">Name</th>
                  <th scope="col">Email</th>
                  <th scope="col">Remove</th>
              </tr>
              </thead>
              <tbody>
              {% for p in people %}
                  <tr>
                      <td>{{ p.name }} </td>
                      <td>{{ p.email }}</td>
                      <td><a href="#" data-reflex="click->Signup_Reflex#remove_person"
                             data-id="{{ p.id }}">Remove</a></td>
                  </tr>
              {% endfor %}
              </tbody>
          </table>
      </div>
  </form>
{% endblock content %}
